{
  "http": {
    "middlewares": [
      {
        "name": "dashboardAuthBearer",
        "type": "authorizationBearer",
        "options": { "sessionScope": "Dashboard" }
      },
      {
        "name": "dashboardOauth2",
        "type": "oauth2",
        "options": {
          "clientId": "Portal-Gateway",
          "clientSecret": "Portal-Gateway!",
          "discoveryUrl": "http://${host-prefix}${portal-iam.host}:${portal-iam.port}/auth/realms/portal",
          "sessionScope": "Dashboard"
        }
      },

      {
        "name": "navigationAuthBearer",
        "type": "authorizationBearer",
        "options": { "sessionScope": "id" }
      },

      {
        "name": "organisationAuthBearer",
        "type": "authorizationBearer",
        "options": { "sessionScope": "Organisation" }
      },
      {
        "name": "organisationOauth2",
        "type": "oauth2",
        "options": {
          "clientId": "Portal-Gateway",
          "clientSecret": "Portal-Gateway!",
          "discoveryUrl": "http://${host-prefix}${portal-iam.host}:${portal-iam.port}/auth/realms/portal",
          "sessionScope": "Organisation"
        }
      },

      {
        "name": "documentAuthBearer",
        "type": "authorizationBearer",
        "options": { "sessionScope": "Document" }
      },
      {
        "name": "documentOauth2",
        "type": "oauth2",
        "options": {
          "clientId": "Portal-Gateway",
          "clientSecret": "Portal-Gateway!",
          "discoveryUrl": "http://${host-prefix}${portal-iam.host}:${portal-iam.port}/auth/realms/portal",
          "sessionScope": "Document"
        }
      }
    ]
  }
}
