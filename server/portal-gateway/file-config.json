{
  "http": {
    "routers": [
      {
        "name": "organisation-service",
        "middlewares": ["organisationAuthBearer", "organisationReplacePath"],
        "rule": "PathPrefix('/organisation/service')",
        "service": "/whoami_organisation-service_1",
        "entrypoints": ["http8000"]
      },
      {
        "name": "navigation-service",
        "middlewares": ["navigationAuthBearer", "navigationReplacePath"],
        "rule": "PathPrefix('/navigation/service')",
        "service": "/whoami_navigation-service_1",
        "entrypoints": ["http8000"]
      },
      {
        "name": "dashboard-service",
        "middlewares": ["dashboardAuthBearer", "dashboardReplacePath"],
        "rule": "PathPrefix('/dashboard/service')",
        "service": "/whoami_dashboard-service_1",
        "entrypoints": ["http8000"]
      },
      {
        "name": "document-service",
        "middlewares": ["documentAuthBearer", "documentReplacePath"],
        "rule": "PathPrefix('/document/service')",
        "service": "/whoami_document-service_1",
        "entrypoints": ["http8000"]
      },
      {
        "name": "organisation-frontend",
        "middlewares": [
          "organisationRedirectRegex",
          "organisationAuthBearer",
          "organisationReplacePath"
        ],
        "rule": "PathPrefix('/organisation')",
        "service": "/whoami_organisation-frontend_1",
        "entrypoints": ["http8000"]
      },
      {
        "name": "navigation-frontend",
        "middlewares": [
          "navigationRedirectRegex",
          "navigationAuthBearer",
          "navigationReplacePath"
        ],
        "rule": "PathPrefix('/navigation')",
        "service": "/whoami_navigation-frontend_1",
        "entrypoints": ["http8000"]
      },
      {
        "name": "dashboard-frontend",
        "middlewares": [
          "dashboardRedirectRegex",
          "dashboardAuthBearer",
          "dashboardReplacePath",
          "rootRedirectregex"
        ],
        "rule": "PathPrefix('/dashboard')",
        "service": "/whoami_dashboard-frontend_1",
        "entrypoints": ["http8000"]
      },
      {
        "name": "dashboard-login",
        "rule": "Path('/dashboard/login')",
        "middlewares": [
          "dashboardAuthBearer",
          "dashboardRedirectRegex",
          "dashboardReplacePath",
          "rootRedirectregex"
        ],
        "service": "/whoami_dashboard-frontend_1",
        "entrypoints": ["http8000"]
      },
      {
        "name": "document-frontend",
        "middlewares": [
          "documentRedirectRegex",
          "documentAuthBearer",
          "documentReplacePath"
        ],
        "rule": "PathPrefix('/document')",
        "service": "/whoami_document-frontend_1",
        "entrypoints": ["http8000"]
      },
      {
        "name": "root",
        "middlewares": [
          "rootRedirectregex",
          "dashboardAuthBearer",
          "dashboardRedirectRegex",
          "dashboardReplacePath"
        ],
        "rule": "Path('/')",
        "service": "/whoami_dashboard-frontend_1",
        "entrypoints": ["http8000"]
      }
    ],
    "middlewares": [
      {
        "name": "navigationAuthBearer",
        "type": "authorizationBearer",
        "options": { "sessionScope": "id" }
      },
      {
        "name": "navigationRedirectRegex",
        "type": "redirectRegex",
        "options": { "regex": "^(/navigation)$", "replacement": "$1/" }
      },
      {
        "name": "navigationReplacePath",
        "type": "replacePathRegex",
        "options": { "regex": "/navigation/", "replacement": "/" }
      },
      {
        "name": "organisationAuthBearer",
        "type": "authorizationBearer",
        "options": { "sessionScope": "organisationScope" }
      },
      {
        "name": "organisationRedirectRegex",
        "type": "redirectRegex",
        "options": { "regex": "^(/organisation)$", "replacement": "$1/" }
      },
      {
        "name": "organisationReplacePath",
        "type": "replacePathRegex",
        "options": { "regex": "/organisation/", "replacement": "/" }
      },
      {
        "name": "dashboardAuthBearer",
        "type": "authorizationBearer",
        "options": { "sessionScope": "dashboardScope" }
      },
      {
        "name": "dashboardRedirectRegex",
        "type": "redirectRegex",
        "options": { "regex": "^(/dashboard)$", "replacement": "$1/" }
      },
      {
        "name": "dashboardReplacePath",
        "type": "replacePathRegex",
        "options": { "regex": "/dashboard/", "replacement": "/" }
      },
      {
        "name": "rootRedirectregex",
        "type": "redirectRegex",
        "options": { "regex": "^/$", "replacement": "/dashboard/" }
      },
      {
        "name": "documentAuthBearer",
        "type": "authorizationBearer",
        "options": { "sessionScope": "documentScope" }
      },
      {
        "name": "documentRedirectRegex",
        "type": "redirectRegex",
        "options": { "regex": "^(/document)$", "replacement": "$1/" }
      },
      {
        "name": "documentReplacePath",
        "type": "replacePathRegex",
        "options": { "regex": "/document/", "replacement": "/" }
      }
    ],
    "services": [
      {
        "name": "/whoami_navigation-service_1",
        "servers": [{ "host": "127.0.1.1", "port": 8083 }]
      },
      {
        "name": "/whoami_document-service_1",
        "servers": [{ "host": "127.0.1.1", "port": 8087 }]
      },
      {
        "name": "/whoami_navigation-frontend_1",
        "servers": [{ "host": "127.0.1.1", "port": 8082 }]
      },
      {
        "name": "/whoami_organisation-service_1",
        "servers": [{ "host": "127.0.1.1", "port": 8085 }]
      },
      {
        "name": "/whoami_dashboard-service_1",
        "servers": [{ "host": "127.0.1.1", "port": 8081 }]
      },
      {
        "name": "/whoami_organisation-frontend_1",
        "servers": [{ "host": "127.0.1.1", "port": 8084 }]
      },
      {
        "name": "/whoami_dashboard-frontend_1",
        "servers": [{ "host": "127.0.1.1", "port": 8080 }]
      },
      {
        "name": "/whoami_document-frontend_1",
        "servers": [{ "host": "127.0.1.1", "port": 8086 }]
      }
    ]
  }
}
