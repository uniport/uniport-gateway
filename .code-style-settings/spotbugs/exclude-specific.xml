<?xml version="1.0" encoding="UTF-8"?>
<FindBugsFilter>
    <!-- the following ignore intended exposure of internal representation warnings -->
    <Match>
        <Class name="~.*(Entrypoint|ControlApiMiddleware|ConfigurationWatcher|RouterSwitchListener|RouterFactory|FileConfigProvider|DockerContainerProvider|DockerContainerServiceImporter|ProviderAggregator|JsonDirectoryConfigStore|JWTAuthPublicKeysReconcilerHandlerImpl|TraceRoutingContext|ContextAwareHttpServerRequest|AuthenticationUserContext|AuthorizationBearerMiddleware|PassAuthorizationMiddleware|JWTAuthTokenLoadHandler)"/>
        <Bug pattern="EI_EXPOSE_REP,EI_EXPOSE_REP2"/>
    </Match>
    <Match>
        <Class name="~.*DockerContainerService"/>
        <Bug pattern="NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE"/>
    </Match>
    <Match>
        <Class name="~.*DockerContainerServiceImporter"/>
        <Bug pattern="IS2_INCONSISTENT_SYNC"/>
    </Match>
    <Match>
        <!-- https://github.com/spotbugs/spotbugs/issues/633 -->
        <Class name="~.*?(middleware\..*?Options|Abstract.*?Model|)" />
        <Bug pattern="NP_METHOD_PARAMETER_TIGHTENS_ANNOTATION" />
    </Match>
    <Match>
        <Class name="~.*(ConfigurationWatcher|CompositeCSPHandlerImpl|RelyingPartyHandler|DockerContainerServiceImporter)"/>
        <Bug pattern="AT_NONATOMIC_64BIT_PRIMITIVE,AT_STALE_THREAD_WRITE_OF_PRIMITIVE"/>
    </Match>

</FindBugsFilter>
