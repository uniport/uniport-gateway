{
    "http": {
        "routers": [
            {
                "name": "content-proxy",
                "middlewares": [
                    "contentRedirectRegex",
                    "ShowSessionContentMiddleware",
                    "contentReplacePath"
                ],
                "rule": "PathPrefix('/content')",
                "service": "content-proxy"
            }
        ],
        "middlewares": [
            {
                "name": "contentRedirectRegex",
                "type": "redirectRegex",
                "options": {
                    "regex": "^(/content)$",
                    "replacement": "$1/"
                }
            },
            {
                "name": "ShowSessionContentMiddleware",
                "type": "_session_"
            },
            {
                "name": "contentReplacePath",
                "type": "replacePathRegex",
                "options": {
                    "regex": "/content/(.*)",
                    "replacement": "/$1"
                }
            }
        ],
        "services": [
            {
                "name": "content-proxy",
                "servers": [
                    {
                        "host": "${UNIPORT_GATEWAY_CONTENT_HOST}",
                        "port": "${UNIPORT_GATEWAY_CONTENT_PORT}"
                    }
                ]
            }
        ]
    }
}
